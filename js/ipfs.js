!function(){var t={};function o(o){if(a=o.callback,t.api||(a("No provider set",null),0)){var a,e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==e.readyState)if(200!=e.status)o.callback(e.responseText,null);else{var t=e.responseText;o.transform&&(t=o.transform(t)),o.callback(null,t)}},e.open(o.method||"GET",t.api_url(o.uri)),o.accept&&e.setRequestHeader("accept",o.accept),o.payload?(e.enctype="multipart/form-data",e.send(o.payload)):e.send()}}t.localProvider={host:"127.0.0.1",port:"5001",protocol:"http",root:"/api/v0"},t.setProvider=function(o){o||(o=this.localProvider),("object"!=typeof o||o.hasOwnProperty("host"))&&(t.api=o)},t.api_url=function(o){var a=t.api;return a.protocol+"://"+a.host+(a.port?":"+a.port:"")+(a.root?a.root:"")+o},t.add=function(t,a){var e,r=new FormData,n=null!=(e=t)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))?t.toString("binary"):t,c=new Blob([n],{});r.append("file",c),o({callback:a,method:"POST",uri:"/add",payload:r,accept:"application/json",transform:function(t){return t?JSON.parse(t).Hash:null}})},t.catText=function(t,a){o({callback:a,uri:"/cat/"+t})},t.cat=t.catText,t.addJson=function(o,a){var e=JSON.stringify(o);t.add(e,a)},t.catJson=function(o,a){t.catText(o,function(t,o){t&&a(t,{});var e={};try{e="string"==typeof o?JSON.parse(o):o}catch(o){t=o}a(t,e)})},"undefined"!=typeof window&&(window.ipfs=t),"undefined"!=typeof module&&module.exports&&(module.exports=t)}();